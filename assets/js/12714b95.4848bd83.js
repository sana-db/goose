"use strict";(self.webpackChunkgoose=self.webpackChunkgoose||[]).push([[5342],{75675:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>c,default:()=>m,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"guides/smart-context-management","title":"Smart Context Management","description":"When working with Large Language Models (LLMs), there are limits to how much conversation history they can process at once. Goose provides smart context management features to help you maintain productive sessions even when reaching these limits. Here are the key concepts:","source":"@site/docs/guides/smart-context-management.md","sourceDirName":"guides","slug":"/guides/smart-context-management","permalink":"/goose/docs/guides/smart-context-management","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":22,"frontMatter":{"title":"Smart Context Management","sidebar_position":22,"sidebar_label":"Smart Context Management"},"sidebar":"tutorialSidebar","previous":{"title":"Smart Extension Recommendation","permalink":"/goose/docs/guides/smart-extension-recommendation"},"next":{"title":"Tutorials","permalink":"/goose/docs/category/tutorials"}}');var s=n(74848),a=n(28453),o=n(65537),i=n(79329);const l={title:"Smart Context Management",sidebar_position:22,sidebar_label:"Smart Context Management"},c=void 0,u={},d=[{value:"Smart Context Management Features",id:"smart-context-management-features",level:2},{value:"Using Smart Context Management",id:"using-smart-context-management",level:2}];function h(e){const t={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["When working with ",(0,s.jsx)(t.a,{href:"/docs/getting-started/providers",children:"Large Language Models (LLMs)"}),", there are limits to how much conversation history they can process at once. Goose provides smart context management features to help you maintain productive sessions even when reaching these limits. Here are the key concepts:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Context Length"}),": The amount of conversation history the LLM can consider"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Context Limit"}),": The maximum number of tokens the model can process"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Context Management"}),": How Goose handles conversations approaching these limits"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"smart-context-management-features",children:"Smart Context Management Features"}),"\n",(0,s.jsx)(t.p,{children:"When a conversation reaches the context limit, Goose offers different ways to handle it:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Feature"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Best For"}),(0,s.jsx)(t.th,{children:"Impact"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"Summarization"})}),(0,s.jsx)(t.td,{children:"Condenses conversation while preserving key points"}),(0,s.jsx)(t.td,{children:"Long, complex conversations"}),(0,s.jsx)(t.td,{children:"Maintains most context"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"Truncation"})}),(0,s.jsx)(t.td,{children:"Removes oldest messages to make room"}),(0,s.jsx)(t.td,{children:"Simple, linear conversations"}),(0,s.jsx)(t.td,{children:"Loses old context"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"Clear"})}),(0,s.jsx)(t.td,{children:"Starts fresh while keeping session active"}),(0,s.jsx)(t.td,{children:"New direction in conversation"}),(0,s.jsx)(t.td,{children:"Loses all context"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"using-smart-context-management",children:"Using Smart Context Management"}),"\n",(0,s.jsxs)(o.A,{groupId:"interface",children:[(0,s.jsxs)(i.A,{value:"ui",label:"Goose Desktop",default:!0,children:[(0,s.jsx)(t.p,{children:"When you reach the context limit in Goose Desktop:"}),(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:"Goose will automatically start summarizing the conversation to make room."}),"\n",(0,s.jsxs)(t.li,{children:["You'll see a message that says ",(0,s.jsx)(t.strong,{children:'"Preparing summary..."'}),", followed by ",(0,s.jsx)(t.strong,{children:'"Session summarized."'})]}),"\n",(0,s.jsxs)(t.li,{children:["Once complete, you'll have the option to ",(0,s.jsx)(t.strong,{children:'"View or edit summary."'})]}),"\n",(0,s.jsx)(t.li,{children:"You can then continue the session with the summarized context in place."}),"\n"]}),(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["In Goose Desktop, context management is handled automatically.",(0,s.jsx)(t.br,{}),"\n","You won\u2019t see options to ",(0,s.jsx)(t.code,{children:"clear"})," or ",(0,s.jsx)(t.code,{children:"truncate"})," \u2014 Goose always uses summarization when the context limit is reached."]})})]}),(0,s.jsxs)(i.A,{value:"cli",label:"Goose CLI",children:[(0,s.jsx)(t.p,{children:"When you reach the context limit in the CLI, you'll see a prompt like this:"}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sh",children:"\u25c7  The model's context length is maxed out. You will need to reduce the # msgs. Do you want to?\n\u2502  \u25cb Clear Session   \n\u2502  \u25cb Truncate Message\n// highlight-start\n\u2502  \u25cf Summarize Session\n// highlight-end\n\nfinal_summary: [A summary of your conversation will appear here]\n\nContext maxed out\n--------------------------------------------------\nGoose summarized messages for you.\n"})}),(0,s.jsx)(t.p,{children:"After choosing an option and the context is managed, you can continue your conversation in the same session."})]})]})]})}function m(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},79329:(e,t,n)=>{n.d(t,{A:()=>o});n(96540);var r=n(34164);const s={tabItem:"tabItem_Ymn6"};var a=n(74848);function o(e){let{children:t,hidden:n,className:o}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,r.A)(s.tabItem,o),hidden:n,children:t})}},65537:(e,t,n)=>{n.d(t,{A:()=>w});var r=n(96540),s=n(34164),a=n(65627),o=n(56347),i=n(50372),l=n(30604),c=n(11861),u=n(78749);function d(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return d(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:s}}=e;return{value:t,label:n,attributes:r,default:s}}))}(n);return function(e){const t=(0,c.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function m(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function x(e){let{queryString:t=!1,groupId:n}=e;const s=(0,o.W6)(),a=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,l.aZ)(a),(0,r.useCallback)((e=>{if(!a)return;const t=new URLSearchParams(s.location.search);t.set(a,e),s.replace({...s.location,search:t.toString()})}),[a,s])]}function p(e){const{defaultValue:t,queryString:n=!1,groupId:s}=e,a=h(e),[o,l]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:a}))),[c,d]=x({queryString:n,groupId:s}),[p,g]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[s,a]=(0,u.Dv)(n);return[s,(0,r.useCallback)((e=>{n&&a.set(e)}),[n,a])]}({groupId:s}),f=(()=>{const e=c??p;return m({value:e,tabValues:a})?e:null})();(0,i.A)((()=>{f&&l(f)}),[f]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!m({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),g(e)}),[d,g,a]),tabValues:a}}var g=n(9136);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=n(74848);function v(e){let{className:t,block:n,selectedValue:r,selectValue:o,tabValues:i}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,a.a_)(),u=e=>{const t=e.currentTarget,n=l.indexOf(t),s=i[n].value;s!==r&&(c(t),o(s))},d=e=>{let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":n},t),children:i.map((e=>{let{value:t,label:n,attributes:a}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:r===t?0:-1,"aria-selected":r===t,ref:e=>{l.push(e)},onKeyDown:d,onClick:u,...a,className:(0,s.A)("tabs__item",f.tabItem,a?.className,{"tabs__item--active":r===t}),children:n??t},t)}))})}function j(e){let{lazy:t,children:n,selectedValue:a}=e;const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:o.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a})))})}function y(e){const t=p(e);return(0,b.jsxs)("div",{className:(0,s.A)("tabs-container",f.tabList),children:[(0,b.jsx)(v,{...t,...e}),(0,b.jsx)(j,{...t,...e})]})}function w(e){const t=(0,g.A)();return(0,b.jsx)(y,{...e,children:d(e.children)},String(t))}},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>i});var r=n(96540);const s={},a=r.createContext(s);function o(e){const t=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(a.Provider,{value:t},e.children)}}}]);